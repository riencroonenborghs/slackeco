<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Slackeco by riencroonenborghs</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Slackeco</h1>
        <p>Rails app that listens to a particular Slack outgoing wehbook, does something and post an incoming hook back to Slack.</p>

        <p class="view"><a href="https://github.com/riencroonenborghs/slackeco">View the Project on GitHub <small>riencroonenborghs/slackeco</small></a></p>


        <ul>
          <li><a href="https://github.com/riencroonenborghs/slackeco/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/riencroonenborghs/slackeco/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/riencroonenborghs/slackeco">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="slackeco" class="anchor" href="#slackeco" aria-hidden="true"><span class="octicon octicon-link"></span></a>SlackEco</h1>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>Got the idea from this post: <a href="https://www.twilio.com/blog/2014/10/how-to-build-a-meme-generator-using-twilio-mms-imgflip-and-sinatra.html?utm_source=rubyweekly&amp;utm_medium=email">How to Build a Meme Generator Using Twilio MMS, Imgflip and Sinatra</a>.</p>

<h2>
<a id="set-up" class="anchor" href="#set-up" aria-hidden="true"><span class="octicon octicon-link"></span></a>Set up</h2>

<h3>
<a id="server" class="anchor" href="#server" aria-hidden="true"><span class="octicon octicon-link"></span></a>Server</h3>

<p>Clone this repository and set it up on a server somewhere.</p>

<p>Make sure it's accessible from the outside world, because Slack is going to post data to it.</p>

<h4>
<a id="imgflip" class="anchor" href="#imgflip" aria-hidden="true"><span class="octicon octicon-link"></span></a>Imgflip</h4>

<p><a href="https://imgflip.com/">Imgflip</a> lets you generate memes. Simple as that. Sign up, you'll need it.</p>

<p>Put your credentials in .env</p>

<pre><code>IMGFLIP_USERNAME=username
IMGFLIP_PASSWORD=itsasecret
</code></pre>

<h3>
<a id="slack" class="anchor" href="#slack" aria-hidden="true"><span class="octicon octicon-link"></span></a>Slack</h3>

<p>Go to your Slack account and set up an outgoing webhook, and have it point to your server. Use trigger words <code>slackmeme:</code> and <code>slackgame:</code>. Also set up an incoming webhook for the channel you want. Put the <code>incoming webhook URL</code>, <code>trigger words</code> and <code>channel</code> in your .env. You can disable the outgoing hook for testing purposes. The <code>meme list url</code> is added here too because i'm too lazy to handle it in another way.</p>

<pre><code>INCOMING_HOOK=slackurl
MEME_TRIGGER_WORD=slackmeme:
GAME_TRIGGER_WORD=slackgame:
CHANNEL=channel
OUTGOING_HOOK_ENABLED=1
MEME_LIST_URL=http://full.url.to/list
</code></pre>

<h2>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>How it works</h2>

<p>Slack will post to this app, every time the trigger words are used. </p>

<p>Based on the trigger words, the app will either:</p>

<ul>
<li>generate a meme and post the resulting image back to slack, or </li>
<li>it will play rock-paper-scissors</li>
</ul>

<h2>
<a id="memes" class="anchor" href="#memes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Memes</h2>

<h3>
<a id="meme-list" class="anchor" href="#meme-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>Meme list</h3>

<pre><code>slackmeme: give me the list please
</code></pre>

<p>This will post the URL to the list view (full url from your .env). The list view gives an overview of the Top 100 memes of the last 30 days from <a href="https://imgflip.com/">Imgflip</a>, with a name, template image and example how to use it in Slack. </p>

<h3>
<a id="generate-a-meme" class="anchor" href="#generate-a-meme" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generate a meme</h3>

<pre><code>slackmeme: meme-name|line1|line2
</code></pre>

<p>This will generate the meme and post the URL into Slack. Slack will autoload the image and fun will be had. </p>

<p><code>line1</code> and <code>line2</code> are optional (e.g. <code>meme-name||line2</code> or <code>meme-name|line1</code>)</p>

<p>The <code>meme-name</code> is partially matched with the full name from the list (e.g. <code>Ski|line1|line2</code> matches the full <code>Super Cool Ski Instructor|line1|line2</code>). If more than one name is matched, slackmeme will take the first one.</p>

<h2>
<a id="rock-paper-scissors" class="anchor" href="#rock-paper-scissors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rock-paper-scissors</h2>

<pre><code>slackgame: rock-paper-scissors: :hand:
</code></pre>

<p>and it will post </p>

<pre><code>SlackGame: I have :v: You win! (&lt;your name&gt; | 12 games | 2 wins | 4 draws)
...
</code></pre>

<p>Have fun!</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/riencroonenborghs">riencroonenborghs</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-65963364-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
